# Instantohie-mcsd-mock-service

A Helm chart for Kubernetes

## TL;DR

```bash
$ helm repo add opensrp https://helm.smartregister.org
$ helm install mcsd opensrp/instantohie-mcsd-mock-service
```

## Introduction

This chart bootstraps [opencr](https://github.com/intrahealth/client-registry) deployment on a [Kubernetes](http://kubernetes.io) cluster using the [Helm](https://helm.sh) package manager.

## Prerequisites

- Kubernetes 1.12+
- Helm 3.1.0

## Configuration

The following table lists the configurable parameters of the Instantohie-mcsd-mock-service chart, and their default values.

| Parameter                | Description             | Default        |
| ------------------------ | ----------------------- | -------------- |
| `replicaCount` |  | `1` |
| `image.repository` |  | `"jembi/instantohie-mcsd-mock-services"` |
| `image.pullPolicy` |  | `"IfNotPresent"` |
| `image.tag` |  | `"v1.1.1"` |
| `imagePullSecrets` |  | `[]` |
| `nameOverride` |  | `""` |
| `fullnameOverride` |  | `""` |
| `serviceAccount.create` |  | `true` |
| `serviceAccount.annotations` |  | `{}` |
| `serviceAccount.name` |  | `""` |
| `podAnnotations` |  | `{}` |
| `podSecurityContext` |  | `{}` |
| `securityContext` |  | `{}` |
| `service.type` |  | `"ClusterIP"` |
| `service.port` |  | `4000` |
| `ingress.enabled` |  | `false` |
| `ingress.className` |  | `""` |
| `ingress.annotations` |  | `{}` |
| `ingress.hosts` |  | `[{"host": "chart-example.local", "paths": [{"path": "/", "pathType": "ImplementationSpecific"}]}]` |
| `ingress.tls` |  | `[]` |
| `resources` |  | `{}` |
| `autoscaling.enabled` |  | `false` |
| `autoscaling.minReplicas` |  | `1` |
| `autoscaling.maxReplicas` |  | `100` |
| `autoscaling.targetCPUUtilizationPercentage` |  | `80` |
| `nodeSelector` |  | `{}` |
| `tolerations` |  | `[]` |
| `affinity` |  | `{}` |
| `deployMcsdMockService` |  | `true` |
| `mcsdMockServiceConfiguration.host` |  | `""` |
| `mcsdMockServiceConfiguration.port` |  | `4000` |
| `openhimMediatorMappingConfig.host` |  | `""` |
| `openhimMediatorMappingConfig.port` |  | `3003` |
| `fhirExtractor.host` |  | `""` |
| `fhirExtractor.port` |  | `3000` |
| `opencrConfig.host` |  | `""` |
| `opencrConfig.port` |  | `3000` |
| `openhimCoreConfiguration.username` |  | `"root@openhim.org"` |
| `openhimCoreConfiguration.password` |  | `"openhim-password"` |
| `openhimCoreConfiguration.host` |  | `""` |
| `openhimCoreConfiguration.port` |  | `"8080"` |
| `openhimCoreConfiguration.scheme` |  | `"https"` |
| `hapiFhirServerConfiguration.host` |  | `""` |
| `hapiFhirServerConfiguration.scheme` |  | `"https"` |
| `hapiFhirServerConfiguration.port` |  | `8080` |
| `mapperConfigImporterJob.enabled` |  | `true` |
| `mapperConfigImporterJob.openhimImportJson` |  | `"{\"Users\":[],\"Clients\":[{\"roles\":[\"instant\"],\"customTokenID\":\"test\",\"clientID\":\"test\",\"name\":\"Test Client\"}],\"Channels\":[{\"methods\":[\"GET\",\"POST\",\"DELETE\",\"PUT\",\"OPTIONS\",\"HEAD\",\"TRACE\",\"CONNECT\",\"PATCH\"],\"type\":\"http\",\"allow\":[\"instant\"],\"whitelist\":[],\"authType\":\"private\",\"matchContentTypes\":[],\"properties\":[],\"txViewAcl\":[],\"txViewFullAcl\":[],\"txRerunAcl\":[],\"status\":\"enabled\",\"rewriteUrls\":false,\"addAutoRewriteRules\":true,\"autoRetryEnabled\":false,\"autoRetryPeriodMinutes\":60,\"routes\":[{\"type\":\"http\",\"status\":\"enabled\",\"forwardAuthHeader\":false,\"name\":\"FHIR Server\",\"secured\":false,\"host\":\"{{ .Values.hapiFhirServerConfiguration.host }}\",\"port\":\"{{ .Values.hapiFhirServerConfiguration.port }}\",\"path\":\"\",\"pathTransform\":\"\",\"primary\":true,\"username\":\"\",\"password\":\"\"}],\"requestBody\":true,\"responseBody\":true,\"rewriteUrlsConfig\":[],\"name\":\"FHIR Server\",\"description\":\"A FHIR server (HAPI FHIR)\",\"urlPattern\":\"^/fhir/.*$\",\"priority\":1,\"matchContentRegex\":null,\"matchContentXpath\":null,\"matchContentValue\":null,\"matchContentJson\":null,\"pollingSchedule\":null,\"tcpHost\":null,\"tcpPort\":null,\"updatedBy\":{\"id\":\"5e2eca110bb0420011f0cd84\",\"name\":\"Super User\"},\"alerts\":[]},{\"methods\":[\"GET\",\"POST\",\"DELETE\",\"PUT\"],\"type\":\"http\",\"allow\":[\"instant\"],\"whitelist\":[],\"authType\":\"private\",\"matchContentTypes\":[],\"properties\":[],\"txViewAcl\":[],\"txViewFullAcl\":[],\"txRerunAcl\":[],\"status\":\"enabled\",\"rewriteUrls\":false,\"addAutoRewriteRules\":true,\"autoRetryEnabled\":false,\"autoRetryPeriodMinutes\":60,\"routes\":[{\"type\":\"http\",\"status\":\"enabled\",\"forwardAuthHeader\":false,\"name\":\"Client Registry Endpoint\",\"secured\":false,\"host\":\"{{ .Values.opencrConfig.host }}\",\"port\":\"{{ .Values.opencrConfig.port }}\",\"path\":\"\",\"pathTransform\":\"s/client/fhir/g\",\"primary\":true,\"username\":\"\",\"password\":\"\"}],\"requestBody\":true,\"responseBody\":true,\"rewriteUrlsConfig\":[],\"name\":\"Client Registry\",\"urlPattern\":\"^/client.*$\",\"matchContentRegex\":null,\"matchContentXpath\":null,\"matchContentValue\":null,\"matchContentJson\":null,\"pollingSchedule\":null,\"tcpHost\":null,\"tcpPort\":null,\"updatedBy\":{\"id\":\"6040f9d53f86890013cd339e\",\"name\":\"Super User\"},\"alerts\":[]},{\"methods\":[],\"type\":\"polling\",\"allow\":[],\"whitelist\":[],\"authType\":\"public\",\"matchContentTypes\":[],\"properties\":[],\"txViewAcl\":[],\"txViewFullAcl\":[],\"txRerunAcl\":[],\"status\":\"enabled\",\"rewriteUrls\":false,\"addAutoRewriteRules\":true,\"autoRetryEnabled\":false,\"autoRetryPeriodMinutes\":60,\"routes\":[{\"type\":\"http\",\"status\":\"enabled\",\"forwardAuthHeader\":false,\"name\":\"FHIR Extractor\",\"secured\":false,\"host\":\"{{ .Values.fhirExtractor.host }}\",\"port\":\"{{ .Values.fhirExtractor.port }}\",\"path\":\"/fhir-extract\",\"pathTransform\":\"\",\"primary\":true,\"username\":\"\",\"password\":\"\"}],\"requestBody\":true,\"responseBody\":true,\"rewriteUrlsConfig\":[],\"name\":\"Poll FHIR Extractor\",\"pollingSchedule\":\"10 seconds\",\"urlPattern\":\"^/fhir-extractor$\",\"matchContentRegex\":null,\"matchContentXpath\":null,\"matchContentValue\":null,\"matchContentJson\":null,\"tcpHost\":null,\"tcpPort\":null,\"updatedBy\":{\"id\":\"607026dc7008390013ecec42\",\"name\":\"Super User\"},\"alerts\":[]},{\"methods\":[],\"type\":\"polling\",\"allow\":[],\"whitelist\":[],\"authType\":\"public\",\"matchContentTypes\":[],\"properties\":[],\"txViewAcl\":[],\"txViewFullAcl\":[],\"txRerunAcl\":[],\"status\":\"enabled\",\"rewriteUrls\":false,\"addAutoRewriteRules\":true,\"autoRetryEnabled\":false,\"autoRetryPeriodMinutes\":60,\"routes\":[{\"type\":\"http\",\"status\":\"enabled\",\"forwardAuthHeader\":false,\"name\":\"mcsd route\",\"secured\":false,\"host\":\"{{ .Values.openhimMediatorMappingConfig.host }}\",\"port\":\"{{ .Values.openhimMediatorMappingConfig.port }}\",\"path\":\"/mcsd\",\"pathTransform\":\"\",\"primary\":true,\"username\":\"\",\"password\":\"\"}],\"requestBody\":true,\"responseBody\":true,\"rewriteUrlsConfig\":[],\"name\":\"mCSD mediator\",\"description\":\"Triggers the retrieving of data and the mapping of that data into a FHIR bundle, which will then be sent to a FHIR metadata store \",\"pollingSchedule\":\"0 * * * *\",\"urlPattern\":\"^/mcsd-trigger$\",\"matchContentRegex\":null,\"matchContentXpath\":null,\"matchContentValue\":null,\"matchContentJson\":null,\"tcpHost\":null,\"tcpPort\":null,\"updatedBy\":{\"id\":\"5eb3e7a5a0b7120012e6082f\",\"name\":\"Super User\"},\"alerts\":[]}],\"Mediators\":[],\"ContactGroups\":[]}"` |
| `mcsdEndpointImporterJob.enabled` |  | `true` |
| `mcsdEndpointImporterJob.endpointJson` |  | `"{\"name\":\"mCSD Orchestration\",\"endpoint\":{\"method\":\"GET\",\"pattern\":\"/mcsd\"},\"transformation\":{\"input\":\"JSON\",\"output\":\"JSON\"},\"requests\":{\"lookup\":[{\"id\":\"gofr-location\",\"config\":{\"method\":\"get\",\"url\":\"http://{{ .Values.mcsdMockServiceConfiguration.host }}:{{ .Values.service.port }}/gofr-location-mock/_history\",\"headers\":{\"Content-Type\":\"application/json\"},\"params\":{\"_since\":{\"path\":\"state.system.timestamps.lookupRequests.gofr-location.requestStart\",\"prefix\":null,\"postfix\":null}}}},{\"id\":\"gofr-organization\",\"config\":{\"method\":\"get\",\"url\":\"http://{{ .Values.mcsdMockServiceConfiguration.host }}:{{ .Values.mcsdMockServiceConfiguration.port }}/gofr-organization-mock/_history\",\"headers\":{\"Content-Type\":\"application/json\"},\"params\":{\"_since\":{\"path\":\"state.system.timestamps.lookupRequests.gofr-organization.requestStart\",\"prefix\":null,\"postfix\":null}}}},{\"id\":\"ihris-practitioner\",\"config\":{\"method\":\"get\",\"url\":\"http://{{ .Values.mcsdMockServiceConfiguration.host }}:{{ .Values.mcsdMockServiceConfiguration.port }}/ihris-practitioner-mock/_history\",\"headers\":{\"Content-Type\":\"application/json\"},\"params\":{\"_since\":{\"path\":\"state.system.timestamps.lookupRequests.ihris-practitioner.requestStart\",\"prefix\":null,\"postfix\":null}}}},{\"id\":\"ihris-practitionerRole\",\"config\":{\"method\":\"get\",\"url\":\"http://{{ .Values.mcsdMockServiceConfiguration.host }}:{{ .Values.mcsdMockServiceConfiguration.port }}/ihris-practitionerRole-mock/_history\",\"headers\":{\"Content-Type\":\"application/json\"},\"params\":{\"_since\":{\"path\":\"state.system.timestamps.lookupRequests.ihris-practitionerRole.requestStart\",\"prefix\":null,\"postfix\":null}}}}],\"response\":[{\"id\":\"mcsd-fhir-bundle\",\"config\":{\"method\":\"post\",\"url\":\"http://localhost:3003/mcsd-fhir-bundle\",\"headers\":{\"Content-Type\":\"application/json\"}}}]},\"inputValidation\":{\"type\":\"object\",\"properties\":{\"lookupRequests\":{\"type\":\"object\",\"properties\":{\"gofr-location\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"Bundle\"]},\"type\":{\"enum\":[\"document\",\"message\",\"transaction\",\"transaction-response\",\"batch\",\"batch-response\",\"history\",\"searchset\",\"collection\"]},\"entry\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"fullUrl\":{\"type\":\"string\"},\"resource\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"Location\"]},\"id\":{\"type\":\"string\"}},\"required\":[\"id\",\"resourceType\"]}}}}},\"required\":[\"type\",\"resourceType\"]},\"gofr-organization\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"Bundle\"]},\"type\":{\"enum\":[\"document\",\"message\",\"transaction\",\"transaction-response\",\"batch\",\"batch-response\",\"history\",\"searchset\",\"collection\"]},\"entry\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"fullUrl\":{\"type\":\"string\"},\"resource\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"Organization\"]},\"id\":{\"type\":\"string\"}},\"required\":[\"id\",\"resourceType\"]}}}}},\"required\":[\"type\",\"resourceType\"]},\"ihris-practitioner\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"Bundle\"]},\"type\":{\"enum\":[\"document\",\"message\",\"transaction\",\"transaction-response\",\"batch\",\"batch-response\",\"history\",\"searchset\",\"collection\"]},\"entry\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"fullUrl\":{\"type\":\"string\"},\"resource\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"Practitioner\"]},\"id\":{\"type\":\"string\"},\"active\":{\"type\":\"boolean\"},\"extension\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"uri\":{\"type\":\"string\",\"format\":\"uri\"}}}},\"name\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"use\":{\"enum\":[\"usual\",\"official\",\"temp\",\"nickname\",\"anonymous\",\"old\",\"maiden\"]},\"text\":{\"type\":\"string\"},\"family\":{\"type\":\"string\"},\"given\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"prefix\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"suffix\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}}}}},\"telecom\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"system\":{\"enum\":[\"phone\",\"fax\",\"email\",\"pajer\",\"url\",\"sms\",\"other\"]},\"value\":{\"type\":\"string\"},\"use\":{\"enum\":[\"home\",\"work\",\"temp\",\"old\",\"mobile\"]},\"rank\":{\"type\":\"integer\",\"minimum\":0},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}}}}},\"address\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"use\":{\"enum\":[\"home\",\"work\",\"temp\",\"old\",\"billing\"]},\"type\":{\"enum\":[\"postal\",\"physical\",\"both\"]},\"text\":{\"type\":\"string\"},\"line\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"city\":{\"type\":\"string\"},\"district\":{\"type\":\"string\"},\"state\":{\"type\":\"string\"},\"postalCode\":{\"type\":\"string\"},\"country\":{\"type\":\"string\"},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}}}}},\"qualification\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"identifier\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"use\":{\"enum\":[\"usual\",\"official\",\"temp\",\"secondary\",\"old\"]},\"type\":{\"type\":\"object\",\"properties\":{\"coding\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\",\"format\":\"uri\"},\"version\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"display\":{\"type\":\"string\"},\"userSelected\":{\"type\":\"boolean\"}}}},\"text\":{\"type\":\"string\"}}},\"system\":{\"type\":\"string\",\"format\":\"uri\"},\"value\":{\"type\":\"string\"},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}},\"assigner\":{\"type\":\"object\",\"properties\":{\"reference\":{\"type\":\"string\"},\"type\":{\"type\":\"string\",\"format\":\"uri\"},\"identifier\":{\"type\":\"object\"},\"display\":{\"type\":\"string\"}}}}},\"code\":{\"type\":\"object\",\"properties\":{\"coding\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\",\"format\":\"uri\"},\"version\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"display\":{\"type\":\"string\"},\"userSelected\":{\"type\":\"boolean\"}}}},\"text\":{\"type\":\"string\"}}},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}}},\"issuer\":{\"type\":\"object\",\"properties\":{\"reference\":{\"type\":\"string\"},\"type\":{\"type\":\"string\",\"format\":\"uri\"},\"identifier\":{\"type\":\"object\"},\"display\":{\"type\":\"string\"}}},\"communication\":{\"type\":\"object\",\"properties\":{\"coding\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\",\"format\":\"uri\"},\"version\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"display\":{\"type\":\"string\"},\"userSelected\":{\"type\":\"boolean\"}}}},\"text\":{\"type\":\"string\"}}}}}},\"gender\":{\"enum\":[\"male\",\"female\",\"other\",\"unknown\"]},\"birthdate\":{\"type\":\"string\",\"format\":\"date\"}},\"required\":[\"id\",\"resourceType\"]}}}}},\"required\":[\"type\",\"resourceType\"]},\"ihris-practitionerRole\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"Bundle\"]},\"type\":{\"enum\":[\"document\",\"message\",\"transaction\",\"transaction-response\",\"batch\",\"batch-response\",\"history\",\"searchset\",\"collection\"]},\"entry\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"fullUrl\":{\"type\":\"string\"},\"resource\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"enum\":[\"PractitionerRole\"]},\"id\":{\"type\":\"string\"},\"identifier\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"use\":{\"enum\":[\"usual\",\"official\",\"temp\",\"secondary\",\"old\"]},\"type\":{\"type\":\"object\",\"properties\":{\"coding\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\",\"format\":\"uri\"},\"version\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"display\":{\"type\":\"string\"},\"userSelected\":{\"type\":\"boolean\"}}}},\"text\":{\"type\":\"string\"}}},\"system\":{\"type\":\"string\",\"format\":\"uri\"},\"value\":{\"type\":\"string\"},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}},\"assigner\":{\"type\":\"object\",\"properties\":{\"reference\":{\"type\":\"string\"},\"type\":{\"type\":\"string\",\"format\":\"uri\"},\"identifier\":{\"type\":\"object\"},\"display\":{\"type\":\"string\"}}}}},\"code\":{\"type\":\"object\",\"properties\":{\"coding\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\",\"format\":\"uri\"},\"version\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"display\":{\"type\":\"string\"},\"userSelected\":{\"type\":\"boolean\"}}}},\"text\":{\"type\":\"string\"}}},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}}},\"active\":{\"type\":\"boolean\"},\"practitioner\":{\"type\":\"object\",\"properties\":{\"reference\":{\"type\":\"string\"},\"type\":{\"type\":\"string\",\"format\":\"uri\"},\"identifier\":{\"type\":\"object\"},\"display\":{\"type\":\"string\"}}},\"location\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"reference\":{\"type\":\"string\"},\"type\":{\"type\":\"string\",\"format\":\"uri\"},\"identifier\":{\"type\":\"object\"},\"display\":{\"type\":\"string\"}}}},\"period\":{\"type\":\"object\",\"properties\":{\"start\":{\"type\":\"string\",\"format\":\"date\"},\"end\":{\"type\":\"string\",\"format\":\"date\"}}},\"extension\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"uri\":{\"type\":\"string\",\"format\":\"uri\"}}}},\"code\":{\"type\":\"array\",\"items\":{\"coding\":{\"type\":\"array\",\"items\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}}}}},\"required\":[\"resourceType\",\"id\"]}}}}},\"required\":[\"type\",\"resourceType\"]}},\"required\":[\"gofr-location\",\"gofr-organization\",\"ihris-practitioner\",\"ihris-practitionerRole\"]}}},\"inputMapping\":{\"lookupRequests.gofr-location.entry[]\":\"Locations\",\"constants.location.request.method\":{\"key\":\"Locations[].request.method\",\"transform\":{\"function\":\"oneToAllElements\"}},\"constants.location.request.url\":{\"key\":\"Locations[].request.url\",\"transform\":{\"function\":\"oneToAllElements\"}},\"lookupRequests.gofr-organization.entry[]\":\"Organizations\",\"constants.organization.request.method\":{\"key\":\"Organizations[].request.method\",\"transform\":{\"function\":\"oneToAllElements\"}},\"constants.organization.request.url\":{\"key\":\"Organizations[].request.url\",\"transform\":{\"function\":\"oneToAllElements\"}},\"lookupRequests.ihris-practitionerRole.entry[]\":\"PractitionerRoles\",\"lookupRequests.ihris-practitioner.entry[]\":\"Practitioners\"},\"state\":{},\"constants\":{\"location\":{\"request\":{\"method\":\"POST\",\"url\":\"Location\"}},\"organization\":{\"request\":{\"method\":\"POST\",\"url\":\"Organization\"}},\"practitionerRole\":{\"request\":{\"method\":\"POST\",\"url\":\"PractitionerRole\"}},\"practitioner\":{\"request\":{\"method\":\"POST\",\"url\":\"Practitioner\"}}}}"` |
| `mcsdEndpointImporterJob.endpointJson2` |  | `"{\"name\":\"mCSD Orchestration - FHIR Bundle\",\"endpoint\":{\"method\":\"POST\",\"pattern\":\"/mcsd-fhir-bundle\"},\"transformation\":{\"input\":\"JSON\",\"output\":\"JSON\"},\"requests\":{\"lookup\":[],\"response\":[{\"id\":\"mcsd-fhir-bundle\",\"config\":{\"method\":\"post\",\"url\":\"{{ .Values.hapiFhirServerConfiguration.scheme }}://{{ .Values.hapiFhirServerConfiguration.host }}:{{ .Values.hapiFhirServerConfiguration.port }}/fhir\",\"headers\":{\"Content-Type\":\"application/json\"}}}]},\"inputValidation\":{},\"inputMapping\":{\"constants.resourceType\":\"resourceType\",\"constants.type\":\"type\",\"requestBody.Locations\":{\"key\":\"entry[]\",\"transform\":{\"function\":\"appendArray\"}},\"requestBody.Organizations\":{\"key\":\"entry[]\",\"transform\":{\"function\":\"appendArray\"}},\"requestBody.PractitionerRoles\":{\"key\":\"entry[]\",\"transform\":{\"function\":\"appendArray\"}},\"requestBody.Practitioners\":{\"key\":\"entry[]\",\"transform\":{\"function\":\"appendArray\"}}},\"state\":{},\"constants\":{\"resourceType\":\"Bundle\",\"type\":\"transaction\"}}"` |
| `commonLabels` |  | `{}` |
| `vpa.enabled` | `Whether to enable vertical pod autoscaling` | `true` |
| `vpa.updatePolicy` | `The update policy to use with the vertical pod autoscaler` | `updateMode: "Off"` |
| `pdb.enabled` | `Whether to enable pod disruption budget` | `false` |
| `pdb.minAvailable` | `Number of pods that must be available during a disruption. Can be an absolute number or a percentage` | `1` |
| `pdb.maxUnavailable` | `Number of pods that can be unavailable during a disruption. Can be an absolute number or a percentage` | `""` |
